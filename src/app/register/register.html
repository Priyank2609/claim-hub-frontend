<div class="register-container">
  <div class="register-card">

    <div class="register-header">
      <i class="fa-solid fa-user-plus register-icon"></i>
      <h2>Create Account</h2>
      <p>Join ClaimHub to manage policies & claims</p>
    </div>

    <form #regForm="ngForm" (ngSubmit)="register(regForm)">


      <div class="section">
        <h4 class="section-title">Account Details</h4>

        <div class="form-group">
          <label>Username</label>
          <input type="text" name="userName" ngModel required placeholder="Choose a username" #userName="ngModel" />
          <div class="error" *ngIf="userName.invalid && userName.touched">
            Username is required.
          </div>
        </div>

        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" ngModel required email placeholder="your@email.com" #email="ngModel" />
          <div class="error" *ngIf="email.invalid && email.touched">
            <div *ngIf="email.errors?.['required']">Email is required.</div>
            <div *ngIf="email.errors?.['email']">Enter a valid email.</div>
          </div>
        </div>

        <div class="form-group">
          <label>Password</label>
          <input type="password" name="password" ngModel required minlength="6" placeholder="Minimum 6 characters"
            #password="ngModel" />
          <div class="error" *ngIf="password.invalid && password.touched">
            <div *ngIf="password.errors?.['required']">Password is required.</div>
            <div *ngIf="password.errors?.['minlength']">Password must be at least 6 characters.</div>
          </div>
        </div>

        <div class="form-group">
          <label>Role</label>
          <select name="role" ngModel required #role="ngModel">
            <option value="" disabled selected>Select your role</option>
            <option value="Customer">Customer</option>
            <option value="Agent">Agent</option>
            <option value="Claim Officer">Claim Officer</option>
            <option value="Admin">Admin</option>
          </select>
          <div class="error" *ngIf="role.invalid && role.touched">Role is required.</div>
        </div>
      </div>

      <div class="section">
        <h4 class="section-title">Personal Information</h4>

        <div class="form-row">
          <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" name="dateOfBirth" ngModel #dob="ngModel" required />
            <div class="error" *ngIf="dob.invalid && dob.touched">Date of Birth is required.</div>
          </div>

          <div class="form-group">
            <label>Gender</label>
            <select name="gender" ngModel required #gender="ngModel">
              <option value="" disabled selected>Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
            <div class="error" *ngIf="gender.invalid && gender.touched">Gender is required.</div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Marital Status</label>
            <select name="maritalStatus" ngModel required #marital="ngModel">
              <option value="" disabled selected>Select</option>
              <option value="Single">Single</option>
              <option value="Married">Married</option>
            </select>
            <div class="error" *ngIf="marital.invalid && marital.touched">Marital Status is required.</div>
          </div>

          <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" name="phone" ngModel required pattern="^\+?\d{10,15}$" placeholder="+91 98765 43210"
              #phone="ngModel" />
            <div class="error" *ngIf="phone.invalid && phone.touched">
              <div *ngIf="phone.errors?.['required']">Phone number is required.</div>
              <div *ngIf="phone.errors?.['pattern']">Enter a valid phone number.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h4 class="section-title">Address</h4>

        <div class="form-group">
          <label>Street Address</label>
          <input type="text" name="address.street" ngModel required placeholder="123 Main Street" #street="ngModel" />
          <div class="error" *ngIf="street.invalid && street.touched">Street address is required.</div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>City</label>
            <input type="text" name="address.city" ngModel required placeholder="Mumbai" #city="ngModel" />
            <div class="error" *ngIf="city.invalid && city.touched">City is required.</div>
          </div>

          <div class="form-group">
            <label>State</label>
            <input type="text" name="address.state" ngModel required placeholder="Maharashtra" #state="ngModel" />
            <div class="error" *ngIf="state.invalid && state.touched">State is required.</div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>Country</label>
            <select name="address.country" ngModel required #country="ngModel">
              <option value="" disabled selected>Select Country</option>
              <option value="India">India</option>
              <option value="USA">USA</option>
              <option value="UK">UK</option>
            </select>
            <div class="error" *ngIf="country.invalid && country.touched">Country is required.</div>
          </div>

          <div class="form-group">
            <label>Postal Code</label>
            <input type="text" name="address.postalCode" ngModel required pattern="^\d{5,6}$" placeholder="400001"
              #postal="ngModel" />
            <div class="error" *ngIf="postal.invalid && postal.touched">
              <div *ngIf="postal.errors?.['required']">Postal code is required.</div>
              <div *ngIf="postal.errors?.['pattern']">Enter a valid postal code.</div>
            </div>
          </div>
        </div>
      </div>


      <button type="submit" class="register-btn" [disabled]="regForm.invalid">
        Create Account
      </button>
    </form>


    <div class="register-footer">
      <p>Already have an account? <a routerLink="/login">Sign in here</a></p>
    </div>
  </div>
</div>